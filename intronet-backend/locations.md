# Локации фестиваля

### ОБЩАЯ ИНФОРМАЦИЯ ВСЕХ СТРАНИЦ API:
Каждый запрос обрамлён в тело ответа:
`{
  "done": bool,
  "model": Model,
  "message": string
}`
1) done отвечает за корректность ответа.
True возвращается при 200 коде ответа.
False в случае 400, 401, 404
(примечание. Ошибка так же может быть необрабатываемой. Однако, все обрабатываемые ошибки лежат в нынешем теле).
2) model содержит внутри себя модель ответа. В случае с возвратом массива представляет собой массив. В случае с возвратом единого элемента, конкретно данный элемент.
3) message содержит внутри себя текст ошибки, который нужно отобразить пользователю. Внутренние ошибки логию сам у себя.

Далее будут указаны модели без данного обрамления. Будьте внимательны!

Основной роут: /api/locations/

### 1. Получить информацию о локации
Тип запроса: GET
Роут:
`/api/locations/{id}`
Вовращает:
`{
  "id": int, //id локации
  "name": string, //название локации
  "description": string, //описание локации
  "image": string, //Содержит внутри себя ссылку на изображение для данной локации
  "x": double, //x и y это местоположение объекта на нашей карте.
  "y": double
}`
Возвращает 404 код в случае когда локация с указнных id не найдена.
### 2. Получить ПОЛНУЮ информацию о локации
Тип запроса: GET
Роут:
`/api/locations/{id}/full`
Вовращает:
`{
  "id": int, //id локации
  "name": string, //название локации
  "description": string, //описание локации
  "image": string, //Содержит внутри себя ссылку на изображение для данной локации
  "x": double, //x и y это местоположение объекта на нашей карте.
  "y": double,
  "tags": [int, int], //массив IDs тэгов локации
  "toDoList": [] //массив строк с расписанием или меню. Будет представлен в виде: строка время или сумма, строка название, bool с изменено ли и две строки с информацией об изменении: причина и предыдущее время или сумма
}`
Возвращает 404 код в случае когда локация с указнных id не найдена.
### 3. Получить информацию обо всех локациях
Тип запроса: GET
Роут:
`/api/locations/all`
Вовращает массив:
`
[
  {
    "id": int, //id локации
    "name": string, //название локации
    "description": string, //описание локации
    "image": string, //Содержит внутри себя ссылку на изображение для данной локации
    "x": double, //x и y это местоположение объекта на нашей карте.
    "y": double
  }
]`
Возвращает 404 код в случае когда локаций не существует вовсе.
### 4. Получить ПОЛНУЮ информацию обо всех локациях
Тип запроса: GET
Роут:
`/api/locations/all/full`
Вовращает массив:
`[
  {
    "id": int, //id локации
    "name": string, //название локации
    "description": string, //описание локации
    "image": string, //Содержит внутри себя ссылку на изображение для данной локации
    "x": double, //x и y это местоположение объекта на нашей карте.
    "y": double,
    "tags": [int, int], //массив IDs тэгов локации
    "toDoList": [] //массив строк с расписанием или меню. Будет представлен в виде: строка время или сумма, строка название, bool с изменено ли и две строки с информацией об изменении: причина и предыдущее время или сумма
  }
]`
Возвращает 404 код в случае когда локаций не существует вовсе.
### 5. Получить информацию о локациях попадающих под фильтрацию
Тип запроса: GET
Роут:
`/api/locations/filter`
Параметры запроса:
`name: string
tags: [int] //массив ids тэгов
пример: /api/Locations/filter?Name=name&Tags=1&Tags=0
пример если в названии содержатся пробелы: /api/Locations/filter?Name=name1%20name2%20name3&Tags=0&Tags=1`
Вовращает массив:
`
[
  {
    "id": int, //id локации
    "name": string, //название локации
    "description": string, //описание локации
    "image": string, //Содержит внутри себя ссылку на изображение для данной локации
    "x": double, //x и y это местоположение объекта на нашей карте.
    "y": double
  }
]`
Возвращает 404 код в случае когда нет локаций вовсе, либо нет попадающих под указнный фильтр.
### 6. Получить ПОЛНУЮ информацию о локациях попадающих под фильтрацию
Тип запроса: GET
Роут:
`/api/locations/filter/all`
Параметры запроса:
`name: string
tags: [int] //массив ids тэгов
пример: /api/Locations/filter/all?Name=name&Tags=1&Tags=0
пример если в названии содержатся пробелы: /api/Locations/filter/all?Name=name1%20name2%20name3&Tags=0&Tags=1`
Вовращает массив:
`[
  {
    "id": int, //id локации
    "name": string, //название локации
    "description": string, //описание локации
    "image": string, //Содержит внутри себя ссылку на изображение для данной локации
    "x": double, //x и y это местоположение объекта на нашей карте.
    "y": double,
    "tags": [int, int], //массив IDs тэгов локации
    "toDoList": [] //массив строк с расписанием или меню. Будет представлен в виде: строка время или сумма, строка название, bool с изменено ли и две строки с информацией об изменении: причина и предыдущее время или сумма
  }
]`
Возвращает 404 код в случае когда нет локаций вовсе, либо нет попадающих под указнный фильтр.
### 7. Создать новую локацию
Тип запроса: POST
Роут:
`/api/admin/locations/add`
Тело запроса (Body):
`{
  "name": string, //название локации
  "description": string, //описание локации
  "maintag": int, //Выбрать id тэга по которому будет определена картинка локации для карты. Если пустое, = 0 или несуществующему id, будет возвращена стандартная картинка
  "tags": [int,int], //тэги
  "x": double, //x и y это местоположение объекта на нашей карте.
  "y": double
}`
Ответ: возвращает 200 код в случае успеха. model = null
### 8.  Изменить локацию
Тип запроса: PUT
Роут:
`/api/admin/locations/edit`
Тело запроса (Body):
`{
  "id"
  "name": string, //название локации
  "description": string, //описание локации
  "maintag": int, //Выбрать id тэга по которому будет определена картинка локации для карты. Если пустое, = 0 или несуществующему id, будет возвращена стандартная картинка
  "tags": [int,int], //тэги
  "x": double, //x и y это местоположение объекта на нашей карте.
  "y": double
}`
ПРИМЕЧАНИЕ:
Обязательным параметром является ID локации.
Можно указывать пустыми любые не изменяемые данные. Будут изменены лишь те которые указаны как не пустые.
Ответ:
Возвращает 200 код в случае успеха. model = null
Возвращает 404 код в случае когда локация с указнных id не найдена.
### 9. Удалить локацию
Тип запроса: DELETE
Роут:
`/api/admin/locations/delete/{id}`
Необходимо указать id удаляемой локации.
Ответ:
Возвращает 200 код в случае успеха. model = null
Возвращает 404 код в случае когда локация с указнных id не найдена.

### 10. ???

ОБНОВЛЯЕТСЯ...



