# Статьи интронета
[<-- Вернуться назад](https://github.com/Insomnia-IT/Wiki/blob/main/README.md#api)

### ОБЩАЯ ИНФОРМАЦИЯ ВСЕХ СТРАНИЦ API:
Каждый запрос обрамлён в тело ответа:
	
    {
      "done": bool,
      "model": Model,
      "message": string
    }
1) done отвечает за корректность ответа.
True возвращается при 200 коде ответа.
False в случае 400, 401, 404
(примечание. Ошибка так же может быть необрабатываемой. Однако, все обрабатываемые ошибки лежат в нынешем теле).
2) model содержит внутри себя модель ответа. В случае с возвратом массива представляет собой массив. В случае с возвратом единого элемента, конкретно данный элемент.
3) message содержит внутри себя текст ошибки, который нужно отобразить пользователю. Внутренние ошибки логию сам у себя.

Далее будут указаны модели без данного обрамления. Будьте внимательны!

## Методы статей

Основной роут: `/api/pages/`

### Получить информацию об отдельной статье
Тип запроса: GET

Роут:
`/api/notes/{id}`

Вовращает:	
	
    {
      "id": int, //id статьи
      "title": string, //название статьи
      "text": string, //основной текст статьи
    }

Возвращает 404 код в случае когда статья с указанным id не найдена.
### Получить информацию обо всех статьях
Тип запроса: GET

Роут:

`/api/pages/all`

Вовращает массив:
	
    [
      {
        "id": int, //id статьи
        "title": string, //название статьи
        "text": string, //основной текст статьи
      }
    ]
Возвращает 404 код в случае когда статьи не существует вовсе.
### Создать новую статью
Тип запроса: POST

Роут: `/api/admin/pages/add`

Тело запроса (Body):	
	
    {
      "title": string, //название статьи
      "text": string, //основной текст статьи. Это текст в формате markdown
    }
Ответ: возвращает 200 код в случае успеха. model = null
### Изменить статью
Тип запроса: PUT

Роут: `/api/admin/pages/edit`
Тело запроса (Body):
	
    {
      "id": int, //id статьи
      "title": string, //название статьи
      "text": string, //основной текст статьи. Это текст в формате markdown
    }

>ПРИМЕЧАНИЕ:
Обязательным параметром является ID записи.
Можно указывать пустыми любые не изменяемые данные. Будут изменены лишь те которые указаны как не пустые.

Ответ:
Возвращает 200 код в случае успеха. model = null
Возвращает 404 код в случае когда запись с указнным id не найдена.
### Удалить запись
Тип запроса: DELETE
Роут: `/api/admin/pages/delete/{id}`

Необходимо указать id удаляемой статьи.

Ответ:

Возвращает 200 код в случае успеха. model = null

Возвращает 404 код в случае когда статья с указнным id не найдена.
