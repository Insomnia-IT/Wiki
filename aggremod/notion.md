# Интеграция с Notion
[<-- Вернуться назад](https://github.com/Insomnia-IT/Wiki/blob/main/README.md#api-2)

### ОБЩАЯ ИНФОРМАЦИЯ ВСЕХ СТРАНИЦ API:
Каждый запрос обрамлён в тело ответа:
	
    {
      "done": bool,
      "model": Model,
      "message": string
    }
1) done отвечает за корректность ответа.
True возвращается при 200 коде ответа.
False в случае 400, 401, 404
(примечание. Ошибка так же может быть необрабатываемой. Однако, все обрабатываемые ошибки лежат в нынешем теле).
2) model содержит внутри себя модель ответа. В случае с возвратом массива представляет собой массив. В случае с возвратом единого элемента, конкретно данный элемент.
3) message содержит внутри себя текст ошибки, который нужно отобразить пользователю. Внутренние ошибки логию сам у себя.

Далее будут указаны модели без данного обрамления. Будьте внимательны!

Основной роут: `/agreemod/notion/`

### Получить информацию обо всех волонтёрах в ноушене
Тип запроса: GET

Роут:

`/agreemod/notion/peoples`

Вовращает массив:
	
    [
      {
        "name": string, //ФИО волонтёра
        "nickname": string, //Позывной/прозвище волонтёра (если есть)
        "position": string, //Должность
        "locations": [string,string], //массив из локаций к которым прикреплен волонтёр. Передаю в виде массива названий. 
        "directions": [string, string], //массив из направлений которые имеются у волонтёра. Передаю в виде массива названий. 
        "email": string, //Email волонтёра
        "phone": string, //Телефон волонтёра
        "avatar": string, //ссылка на фото
        "badgeColor": string, //Цвет бейджика. У меня это enum, но я возвращаю значение в виде текста. Подробнее по значения смотри ниже.
        "foodType": string, //Тип питания. У меня это enum, но я возвращаю значение в виде текста. Подробнее по значениям смотри ниже.
        "nutritionFeatures": string, //Особенности питания. Просто текст. Если нужна конкретная классификация, может быть пустым, "веган" или что-то ещё.
        "arrivalDate": DateTime?, //Дата заезда. Может быть = null
        "departureDate": DateTime?, //Дата отбытия. Может быть = null
      }
    ]
    
>ПРИМЕЧАНИЕ:
Раньше был указатель волонтёр ли данный человек. Однако, в связи с разделением на цвета бейджей, мне кажется, больше не требуется. Однако. если необходимо, напишите и добавлю.

>ПРИМЕЧАНИЕ 2:
Абсолютно все значения могут быть = null или быть пустыми. Это нормально т.к. пока либо не полностью заполнена таблица, либо вовсе данные не предоставлены. Учитывайте это, пожалуйста.

Возвращает 404 код в случае когда записи не существует вовсе.
### Получить информацию обо всех локациях в ноушене
Тип запроса: GET

Роут: `/agreemod/notion/locations`

Вовращает массив:
	
    [
      {
        "name": string, //Название локации.
        "tags": [string, string], //Тэги локации.
        "direction": string, //Направление к которой принадлежит локация. В таблице их может быть больше одного, однако, я сделаю алгоритм котоорый перекидывает лишние направления в раздел тэгов.
      }
    ]
Возвращает 404 код в случае когда нет локаций вовсе, либо нет попадающих под указнный фильтр.
### ???

ОБНОВЛЯЕТСЯ...

## Дополнительные значения

### Цвета бейджей

1) Red - Красный. Цвет бейджа организаторов.
2) Green - Зелёный. Цвет бейджа волонтёра, который не принадлежит медпункту.
3) Blue - Синий. Цвет бейджа участника, который из одной из служб "Ветви дерева".
4) Purple - Фиолетовый. Цвет бейджа волонтёра, который принадлежит медпункту.
5) Orange - Оранжевый. Цвет бейджа для участника который: аниматор, мастера, лектор или музыкант.
6) Yellow - Желтный. Цвет бейджа для остальных участников

### Тип питания

1) Free - полностью бесплатное питание.
2) Discount50 - питание при котором необходимо оплачивать половину стоимости.
3) Empty - если нет данных, питание с 100% оплатой или вообще не кормят.

### ???

ОБНОВЛЯЕТСЯ...

